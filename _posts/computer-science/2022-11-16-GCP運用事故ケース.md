---
layout: post
title: "GCP運用事故ケース"
excerpt: "GCP運用事故ケースまとめ"
tag: ["クラウド", "インシデント", "対応"]
date: 2022-11-16
computer_science: true
comments: false
sort_key: "2022-11-16"
update_dates: ["2022-11-16"]
---

# GCP運用事故ケースまとめ

## 概要
 - 個人で契約しているGCPでいくつか動かしているプログラムの運用時の事故等の忘備録

## 各ケース

### BQへのデータの更新が停止
 - 原因
   - サービスアカウントに対する過剰な権限を見直すために、`~_admin`系を消した
   - 使用中のサービスアカウントにも関わらず、消してしまったため、デプロイ中のサービスが機能不全になった
 - 対応
   - 適切な権限に設定したサービスアカウントを再作成
 - ネクストアクション
   - 開発の段階からサービスアカウントに対する権限は最小の権限で設定する
   - どの権限が包括しているか不明なときは、小さい権限から試す
     - WebUIでサービスアカウントのログを確認すると権限不足のときにはエラーログをが吐かれるので確認できる
