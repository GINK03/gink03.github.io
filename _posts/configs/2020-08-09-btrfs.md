---
layout: post
title:  "btrfs"
date:   2020-08-09
excerpt: "btrfs"
project: false
config: true
tag: []
comments: false
---

# btrfs
 - 現状、最もアドホックな分析やデータレークで安定するfilesystem
 - inodeが大量に必要なフォーマット等で安定性が高い
   - 5chのデータを扱うような場合

## install

**ubuntu, debian**  
```console
$ sudo apt install btrfs-progs
```

## format 

```console
$ sudo mkfs -t btrfs -f /dev/<sdx>
```
 - `-f`; すでに他のファイルシステムでフォーマットされているときに必要

## repair format

```console
$ sudo btrfs check --repair --force /dev/<sdx>
```

これで治らない場合、ディスクが故障している可能性がある


