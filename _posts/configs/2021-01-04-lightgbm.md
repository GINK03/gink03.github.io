---
layout: post
title:  "lightgbm"
date:   2021-01-04
excerpt: "lightgbmのクリック&チートシート"
project: false
config: true
tag: ["python", "lightgbm"]
comments: false
---


# lightgbmのクリック&チートシート

## エラー時の対応ケース

*1*

```console
if self.handle is not None and feature_name is not None and feature_name != 'auto':
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
```

lightgbmのモデルを作成しようとしたときに、`feature_name`を入れようとする時点で、`feature_name`と`lgb.Dataset`のカラムの大きさなどが一致しないことが原因  

```python
model = lgb.train(
	params, 
	tr_data,
	num_boost_round=5000,
	valid_sets=[tr_data, va_data],
	early_stopping_rounds=50,
	feature_name=features_tmp,
	categorical_feature=categorical_columns,
	verbose_eval=50
)
```
