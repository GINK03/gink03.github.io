---
layout: post
title: "wsl"
date: "2021-10-25"
excerpt: "wslの使い方"
project: false
config: true
tag: ["windows", "linux", "wsl", "Windows Subsystem for Linux"]
comments: false
---

# wslの使い方

## インストール

管理者権限にて

```console
> wsl --install
```

## インストール可能なディストリビューション一覧

```console
> wsl --list --online
```

## ディストリビューションのインストール

```console
> wsl --install -d Ubuntu # Ubuntuの場合
> wsl --install -d Debian # Debianの場合
```

## インストールされたディストリビューションの一覧

```console
> wsl -l
```

## ディストリビューションを指定して起動

```console
> wsl -d Debian
```
 - `Debian`を指定してインストールする場合

## デフォルトのディストリビューションを設定する

```console
> wsl --setdefault Debian
```
 - `Debian`をデフォルトに設定

## インストールされたディストリビューションの削除

```console
> wsl --unregister <distribution-name>
```

## wslサービスの再起動

**管理者のpowershellにて**  
```console
> Get-Service LxssManager | Restart-Service
```

## wslの中でdockerを利用する
 - `Docker Desktop for Windows`がインストールされてwsl2 integrationが設定されていれば、wslの内部でもdockerコマンドが利用可能になる

## マニュアル
 - [Configure Linux distributions](https://docs.microsoft.com/en-us/windows/wsl/wsl-config)

## トラブルシューティング

### ubuntuが日本語化されない

```console
$ sudo apt install language-pack-ja
$ sudo update-locale LANG=ja_JP.UTF8
```
