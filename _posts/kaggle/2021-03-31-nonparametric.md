---
layout: post
title: "ノンパラメトリック法"
date: 2021-03-31
excerpt: "ノンパラメトリック法について"
kaggle: true
hide_from_post: true
tag: ["nonparametric", "statistics"]
comments: false
---

# ノンパラメトリック法について
 - 母集団分布の分布を仮定せず、検定を行うこと

## ウィルコクソンの順位和検定
 - **概要**
   - ある表のデータに関して２つの群に差があったかを調べる方法
 - **具体的な説明**
   - ランク化する
   - ランク化した値の和を計算する
   - 要素の数n、片方の群の数mとするとnCmでランクの表現が記述できる
   - ランクの和の値までの数 / nCm がP値になる

## 符号付き順位和検定
 - **概要**
   - ２つの群の差を2^nのノンパラメトリックで表現して考える
 - **具体的な説明**
   - 差のデータ([-15, -9, 0, 6, 11, 20, 25])を絶対値で符号付きランク化する([1, -2, 3, -4, 5, 6])
	 - この際、0は無視するデータとする
   - 2^6ですべての可能性が示せる
   - ランク化した合計は`t+ = 15`でありこれより大きいパターは、14個ある
   - つまり、`P(T+>15) = 15/64 = 0.22`である
 - **一般化**
   - サンプルサイズをn
   - 平均 `n(n+1)/4`
   - 分散 `n(n+1)(2n+1)/24`


## クラスカルウォリス検定
 - **概要**
   - 3群において分布がすべて等しいか(帰無仮説)、異なるかの検定
 - **具体的な説明**
   - すべての数を順位として表す
   - $H$を求めたら群-1の自由度でカイ二乗分布より有意を判別できる

**式1**
$$
H = \frac{12}{N(N+1)} \left( n_a(\bar{R_a} - \bar{N}) + n_b(\bar{R_b} - \bar{N}) + n_c(\bar{R_c} - \bar{N})\right)
$$	
 - n; サンプルサイズ
 - $\hat{N}$; 中央値
 - $R$; 順位和
 - $\hat{R}$; 順位平均

**式2**
$$
H = \frac{12}{N(N+1)} \left( \frac{R_a^2}{n_A} + \frac{R_b^2}{n_B} + \frac{R_c^2}{n_C} \right)
$$
