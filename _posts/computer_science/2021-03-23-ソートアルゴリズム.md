---
layout: post
title: "ソート"
date: 2021-03-23
excerpt: "ソートアルゴリズムについて"
computer_science: true
hide_from_post: true
tag: ["sort", "algorithm", "quick sort", "merge sort"]
comments: false
---

# ソートアルゴリズムについて

## 種類
 - マージソート
 - クイックソート

## merge sort
 - **概要**
   - 再帰で小さい要素に分割し、小さい順に合成する方法
   - 計算量
       - `O(n log n)`
 - **視覚的な説明**
   - [Merge Sort in Python](https://stackabuse.com/merge-sort-in-python/)

### コード
```python
def merge_sort(arr):
    size = len(arr)
    if size <= 1:
        return

    # 左右に分割してそれぞれソートする
    middle = size // 2
    left_arr = arr[:middle]
    right_arr = arr[middle:]
    merge_sort(left_arr)
    merge_sort(right_arr)

    # 得られたleft_arr, right_arrを小さい順にマージしていく
    # li: left index, ri: right index, ai: all index
    li, ri, ai = 0, 0, 0
    left_size, right_size = len(left_arr), len(right_arr)
    while li < left_size and ri < right_size:
        if left_arr[li] < right_arr[ri]:
            arr[ai] = left_arr[li]
            li += 1
        else:
            arr[ai] = right_arr[ri]
            ri += 1
        ai += 1
    # 残りをarrに加える
    while li < left_size:
        arr[ai] = left_arr[li]
        li += 1
        ai += 1
    while ri < right_size:
        arr[ai] = right_arr[ri]
        ri += 1
        ai += 1

import random
inp_arr = [random.randint(0, 100) for i in range(11)]
print("Input Array:", inp_arr) # Input Array: [15, 28, 6, 53, 47, 70, 79, 75, 55, 13, 33]
merge_sort(inp_arr)
print("Sorted Array:", inp_arr) # Sorted Array: [6, 13, 15, 28, 33, 47, 53, 55, 70, 75, 79]
```

### google colab
 - [colab](https://colab.research.google.com/drive/1PkW2E7V-zAXrVZOKqwJBfp9fz0iOMiD5?usp=sharing)

## quick sort
 - **概要**
   - 計算量
       - 最悪値: `O(n^2)`
       - 平均: `O(n log n)`
   - 平均的にquick sortのほうがmerge sortより高速らしい
 - **視覚的な説明**
   - [Quicksort Visualization](https://opendsa-server.cs.vt.edu/embed/quicksortAV)

### コード
```python
def qsort(arr):
    # 基準のpivotよりも小さいグループ、同じグループ、大きいグループに分ける
    lesser, equal, greater = [], [], []
    if len(arr) <= 1:
        return arr
    pivot = arr[0] # pivotを定義
    for x in arr:
        if x < pivot:
            lesser.append(x)
        elif x == pivot:
            equal.append(x)
        elif x > pivot:
            greater.append(x)
    return qsort(lesser) + equal + qsort(greater)

import random
arr = [random.randint(0, 100) for i in range(11)]
print(arr) # [50, 80, 84, 22, 9, 33, 49, 21, 87, 45, 55]
print(qsort(arr)) # [9, 21, 22, 33, 45, 49, 50, 55, 80, 84, 87]
```

### google colab
 - [colab](https://colab.research.google.com/drive/14eDJlFGnq_tNH6Vkv4r6c58Sr0uAaK_D?usp=sharing)
