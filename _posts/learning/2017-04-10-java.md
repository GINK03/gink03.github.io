---
layout: post
title: "javaメモ"
date: 2017-04-10
excerpt: "javaメモ(silver, gold)"
project: true
learning: true
tag: ["java", "oracle", "pearson VUE"]
comments: false
---

# Javaメモ(silver, gold)

## Java SE 11について 
 - **各資格レベル**
   - **2020年で国際的には廃止**
	 - `Java SE 11 Programmer 1(1Z0-815))`が`silver`に該当する
	 - `Java SE 11 Programmer 2(1Z0-816)`が`gold`に該当する
   - **2021年から一本化**
	 - `Java SE 11 Developer(1Z0-819)`
 - **受験の方法**
   - [oracle certview](https://certview.oracle.com/)にログイン
   - manage exam at pearson VUEで試験予約を行う

## パッケージ
 - パッケージは慣習としてドメイン名を逆にしたものを用いるが絶対ではない
 - すべてのクラスはパッケージに属するがパッケージを省略すると匿名パッケージになる
 - `java.lang`はimportしなくても使える
 - 同じパッケージもimportしなくても使える
 - 名前のあるpackageに無名のパッケージを暗黙的に読み込むことはできない

## main
 - pulib + staticである必要がある

## 実行
 - `java Test` or `java Test.java`
 - バックスラッシュでエスケープ
 - `"a "b` -> `a b`という文字列で解釈される

## タイプ
 - `boolean`は存在するが`bool`はない
 - 数字リテラルの先頭で数字表現が変わる
   - `0b` -> 2進数
   - `0x` -> 16進数
   - `0` -> 8進数
 - `_`リテラル
   - 数字の先頭と最後はNG
   - 記号の前後はNG
 - `$`, `_`は変数として使える
 - `var`は型推論を行うがローカル変数の推論だけ(generic class等は作れない)
 - `String`
   - `String`は参照渡しにならずにコピーわたしになる?
   - `replace`はすべて変えるreplace all
   - `substring`がslice
   - `concat`が文字列連結
   - `100 + "yen"` -> `100yen`
 - `StringBuilder`
   - デフォルトで16のバッファをもつ
 - `++`, `--`
   - その場でインクリメント、デクリメントする
 - 同値判定
   - `Object`の`equals`をオーバーライドする
   - `x.equals(null)`は`false`を保証する必要がある
   - `コンスタントプール`と`インスタンス`
	 - `==`では一致しないが、`equals`では一致する

## swtich文
 - OK
   - int以下の数字
   - enum
   - オブジェクト型
 - NG
   - long以上
   - boolean
 - `break;`を各ステートメントに記述しないと終了しない

## comparator
 - 比較を行うもの
 - `left < right` -> `1`のとき降順
 - `left > right` -> `1`のとき昇順

## arraylist, list
 - forで回しているときにremoveするとそのオペレーションは問題がないが、次に呼び出すときに例外が出る
 - 初期化法
   - `Arrays.asList(...)`
   - `List.of(...)`

## map
 - `null`もキーになる

## lambda 
 - 同じスコープの変数名と同じ変数をlambdaで使うことはできない
 - lambda内でlambdaを包括するscopeの変数にアクセスできるが変更はできない
 - `Predicate`
   - 評価専用関数
 - `Supplier`
   - 引数を受け取らない
 - `Consumer`
   - 引数を受け取るが処理をするだけ

## interface
 - C++のヘッダーファイルのようなもの
 - アクセス修飾子は無名だとpublicになる
 - interfaceに実装を入れるには`default`が必要
 - interfaceの方で受けるとき、実装があるsubclassまで探して実行

## abstract class
 - インスタンスを生成できない
 - すべての関数をoverrideする必要はない
 - overrideは戻り値の型を変えられる
 - 継承関係ではsubclassは継承元よりゆるいアクセス修飾子を定義できる

## 継承
 - subclassでコンストラクタで`super()`を省略しても`super()`がコンパイラで挿入される

## 例外
 - 到達不能なcacheブロックが存在するとき
	 - コンパイルエラー
 - `try-cache-finally`は順序どおりでなくてはいけない
 - `cache`ステートメントに`return`が存在しても`finally`実行後に実行される
 - `cache`と`finally`どちらにも`return`があるとき、最後に実行された`return`の値が戻る
 - `RuntimeException`は非検査例外で明示的に関数に示さなくてもいい
 - 例外とは別に`Error`というものがある

## モジュール
 - `module-info.java`に記述
   - `exports ${PACKAGE_NAME}`
   - `requires ${DEP}`
	 - `requires transitive ${DEP}` -> 階層構造の自分を依存するmoduleに全てに伝搬させる
 - モジュールを含めて実行
   - `java --module-path $DIR -m ${MAIN_CLASS}/${PACKAGE_PATH}`
 - デフォルトで組み込まれるmodule
   - `java.base`
 - モジュールを表示
   - `jmod describe`
   - `java --describe-module `
 - コンパイル時に一時的にmoduleを追加
   - `java ... --add-exports=... ...`
